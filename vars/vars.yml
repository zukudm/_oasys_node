---
container_name: oasys_geth
volume_name: oasys_geth_volume
source_image_name: ethereum/client-go:stable
entrypoint_override: /bin/sh
container_mount_point: /root/

# vars for preparing before start

prepare_command_list:
  - sh -c "mkdir -p /root/.ethereum/geth/"
  - sh -c "apk --no-cache add curl"
  - sh -c "curl -o /root/genesis.json https://raw.githubusercontent.com/oasysgames/oasys-validator/main/genesis/testnet.json"
  - sh -c "geth init /root/genesis.json"
  - sh -c "echo '[ \"enode://4a85df39ec500acd31d4b9feeea1d024afee5e8df4bc29325c2abf2e0a02a34f6ece24aca06cb5027675c167ecf95a9fc23fb7a0f671f84edb07dafe6e729856@35.77.156.6:30303\" ]' > /root/.ethereum/geth/static-nodes.json"
  - sh -c "echo Kva123! > /root/.ethereum/password.txt"
  - sh -c "geth account new --password $HOME/.ethereum/password.txt >$HOME/.ethereum/wallet.txt"
  - sh -c " str'i'ng" 
  
single_command1:
  - sh -c "grep -a 'Public address of the key' /root/.ethereum/wallet.txt | awk '{ print $NF }' "
  

